<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // #######################################################
        // プロトタイプは関数に自動的に設定されているプロパティ
        function Test() {}

        // 関数はオブジェクトの一種
        Test.prop = "値";

        console.log(Test.prop);

        // prototype プロパティの存在確認
        console.log("prototype" in Test);

        // prototype にはオブジェクトが格納されている
        console.log(typeof Test.prototype);

        // #######################################################
        // prototype にメソッドを登録
        function Person(name) {
            this.name = name;
        }

        Person.prototype.hello = function() {
            /* 
            Person コンストラクタの prototype オブジェクトの hello プロパティに
            無名関数を登録
            */
            console.log(`こんにちは、${this.name}`);
        }

        const taro = new Person("独習太郎");
        taro.hello();

        const hanako = new Person("独習花子");
        hanako.hello();

        // #######################################################
        // prototype と __proto__ は同じオブジェクトを保持する
        function Test() {}
        Test.prototype.hello = function() { console.log("こんにちは") };
        const instance = new Test;
        console.log(instance.__proto__ === Test.prototype);
        instance.__proto__.hello();
    </script>
</body>
</html>